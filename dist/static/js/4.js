webpackJsonp([4],{"2Kvo":function(t,a,e){"use strict";Array,Boolean;var i={props:{list:{type:Array,default:function(){return[]}},showPic:{type:Boolean,default:!1}},methods:{selectItem:function(t,a){this.$emit("select",t,a)}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list"},t._l(t.list,function(a,i){return e("div",{key:a.id,staticClass:"list-item",on:{click:function(e){return t.selectItem(i,a)}}},[e("div",{staticClass:"item-num"},[t._v(t._s(i+1))]),t._v(" "),t.showPic?e("div",{staticClass:"item-img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.album.blurPicUrl,expression:"item.album.blurPicUrl"}],staticClass:"item-img-img",attrs:{alt:""}})]):t._e(),t._v(" "),e("div",{staticClass:"item-content"},[e("div",{staticClass:"item-content-name"},[t._v(t._s(a.name)+"\n        "),t._t("default",null,{item:a})],2),t._v(" "),e("div",{staticClass:"item-content-artist"},[t._v(t._s(a.singer))])]),t._v(" "),e("div",{staticClass:"item-option"},[t._t("default"),t._v(" "),e("i",{staticClass:"fa fa-play-circle-o",staticStyle:{"font-size":"1.5rem",color:"rgba(197, 199, 17, 0.44)"}})],2)])}),0)},staticRenderFns:[]};var n=e("VU/8")(i,s,!1,function(t){e("q8DM")},"data-v-c6a1a2b0",null);a.a=n.exports},BqoI:function(t,a){},q8DM:function(t,a){},zJ98:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("Xxa5"),s=e.n(i),n=e("exGp"),r=e.n(n),c=e("Dd8w"),o=e.n(c),l=(e("GQaK"),e("W/cN")),v=e("//Fk"),u=e.n(v),m=e("Dod7"),d=e("a6lS"),f=m.a.axios();function g(t){return f.get(d.songsheet.sheetdetail,{params:{id:t}}).then(function(t){return t&&200===t.data.code?u.a.resolve(t.data.playlist):u.a.reject(new Error("获取数据出错"))})}var p=e("NYxO"),_=e("2Kvo"),C=(l.a,_.a,o()({selectItem:function(t,a){console.log("songlist",this.songList,"songitem",a,t),this.selectSong({list:this.songList,song:a,index:t})},back:function(){this.$router.go(-1)},getDetail:function(t){var a=this;return r()(s.a.mark(function e(){var i,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:i=e.sent,n={coverImgUrl:i.coverImgUrl,name:i.name,createTime:i.createTime,trackCount:i.trackCount,playCount:i.playCount,description:i.description,tags:i.tags,creator:{avatarUrl:i.creator.avatarUrl||"",nickname:i.creator.nickname}},a.info=n,i.tracks.forEach(function(t){t.singer=t.ar.map(function(t){return t.name}).join("/")}),a.songList=i.tracks;case 7:case"end":return e.stop()}},e,a)}))()}},Object(p.b)({selectSong:"SELECT_SONG"})),{mixins:[l.a],components:{List:_.a},data:function(){return{title:"歌单",info:{creator:{}},songList:[]}},activated:function(){var t=this.$route.params.id;this.getDetail(t)},methods:o()({selectItem:function(t,a){console.log("songlist",this.songList,"songitem",a,t),this.selectSong({list:this.songList,song:a,index:t})},back:function(){this.$router.go(-1)},getDetail:function(t){var a=this;return r()(s.a.mark(function e(){var i,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:i=e.sent,n={coverImgUrl:i.coverImgUrl,name:i.name,createTime:i.createTime,trackCount:i.trackCount,playCount:i.playCount,description:i.description,tags:i.tags,creator:{avatarUrl:i.creator.avatarUrl||"",nickname:i.creator.nickname}},a.info=n,i.tracks.forEach(function(t){t.singer=t.ar.map(function(t){return t.name}).join("/")}),a.songList=i.tracks;case 7:case"end":return e.stop()}},e,a)}))()}},Object(p.b)({selectSong:"SELECT_SONG"}))}),h={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"song-sheet"},[i("div",{staticClass:"vis-wrapper"},[i("div",{staticClass:"header"},[i("div",{staticClass:"header-arrow"},[i("img",{attrs:{id:"header-arrow-arrow",src:e("kgKP"),alt:"暂无"},on:{click:t.back}})]),t._v(" "),i("div",{staticClass:"header-title"},[i("div",{staticClass:"header-title-title"},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"header-title-description"},[t._v(t._s(t.info.description))])])]),t._v(" "),i("main",{ref:"wrapper"},[i("div",{ref:"container",staticClass:"wrapper-container"},[i("div",{staticClass:"main-top"},[i("img",{staticClass:"main-top-image",attrs:{src:t.info.coverImgUrl,alt:""}}),t._v(" "),i("div",{staticClass:"main-top-right"},[i("div",{staticClass:"main-top-title"},[t._v(t._s(t.info.name))]),t._v(" "),i("div",{staticClass:"main-top-author"},[i("div",{staticClass:"avatar-div"},[i("img",{attrs:{id:"ct-avatar",src:t.info.creator.avatarUrl}})]),t._v(" "),i("div",{staticClass:"ct-nickname"},[t._v(t._s(t.info.creator.nickname))])])])]),t._v(" "),i("div",{staticClass:"main-list"},[i("List",{attrs:{list:t.songList},on:{select:t.selectItem}})],1)])])])])},staticRenderFns:[]};var k=e("VU/8")(C,h,!1,function(t){e("BqoI")},"data-v-85f1a8fc",null);a.default=k.exports}});